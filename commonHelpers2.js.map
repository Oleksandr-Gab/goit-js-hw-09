{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const feedbackForm = document.querySelector('.feedback-form');\n\n\nimport debounce from \"lodash.debounce\";\n\nfeedbackForm.addEventListener('input', debounce(event => {\n    const formData = new FormData(feedbackForm);\n    const formObject = {};\n    formData.forEach((value, key) => {\n        formObject[key] = value.trim();\n    })\n    localStorage.setItem(\"feedback-form-state\", JSON.stringify(formObject));\n}, 600));\n\nfeedbackForm.addEventListener(\"submit\", event => {\n\tevent.preventDefault();\n    if (event.target.email.value.trim().length == 0 || event.target.message.value.trim().length == 0) {\n        alert ('Fill in all fields');\n    } else {\n    console.log(JSON.parse(localStorage.getItem('feedback-form-state')));\n    localStorage.removeItem(\"feedback-form-state\");\n    feedbackForm.reset();\n}});\n\ntry {\n    const initialFormData = JSON.parse(localStorage.getItem('feedback-form-state'));\n    Array.from(feedbackForm.elements).forEach(el => {\n        const strValue = initialFormData[el.name];\n        if (initialFormData) {\n            if (initialFormData === null) return;\n            else {\n                el.value = strValue;\n            }\n        }\n    })\n} catch (e) {};"],"names":["feedbackForm","debounce","event","formData","formObject","value","key","initialFormData","el","strValue"],"mappings":"oGAAA,MAAMA,EAAe,SAAS,cAAc,gBAAgB,EAK5DA,EAAa,iBAAiB,QAASC,EAASC,GAAS,CACrD,MAAMC,EAAW,IAAI,SAASH,CAAY,EACpCI,EAAa,CAAA,EACnBD,EAAS,QAAQ,CAACE,EAAOC,IAAQ,CAC7BF,EAAWE,GAAOD,EAAM,KAAI,CACpC,CAAK,EACD,aAAa,QAAQ,sBAAuB,KAAK,UAAUD,CAAU,CAAC,CAC1E,EAAG,GAAG,CAAC,EAEPJ,EAAa,iBAAiB,SAAUE,GAAS,CAChDA,EAAM,eAAc,EACbA,EAAM,OAAO,MAAM,MAAM,KAAM,EAAC,QAAU,GAAKA,EAAM,OAAO,QAAQ,MAAM,KAAM,EAAC,QAAU,EAC3F,MAAO,oBAAoB,GAE/B,QAAQ,IAAI,KAAK,MAAM,aAAa,QAAQ,qBAAqB,CAAC,CAAC,EACnE,aAAa,WAAW,qBAAqB,EAC7CF,EAAa,MAAK,EACrB,CAAC,EAEF,GAAI,CACA,MAAMO,EAAkB,KAAK,MAAM,aAAa,QAAQ,qBAAqB,CAAC,EAC9E,MAAM,KAAKP,EAAa,QAAQ,EAAE,QAAQQ,GAAM,CAC5C,MAAMC,EAAWF,EAAgBC,EAAG,MACpC,GAAID,EAAiB,CACjB,GAAIA,IAAoB,KAAM,OAE1BC,EAAG,MAAQC,CAElB,CACT,CAAK,CACL,MAAE,CAAU"}